<!-- src/app/weather/weather.component.html -->
<div class="weather-container max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-xl border border-gray-200">
  <div class="relative">
    <input
      type="text"
      [(ngModel)]="city"
      (input)="getCitySuggestions()"
      placeholder="Enter city name"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300"
    />
    <!-- Lista desplegable de sugerencias -->
    <ul
      *ngIf="suggestions.length > 0"
      class="absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg mt-2"
    >
      <li
        *ngFor="let suggestion of suggestions"
        (click)="selectCitySuggestion(suggestion)"
        class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
      >
        {{ suggestion }}
      </li>
    </ul>
  </div>

  <!-- Botón de búsqueda -->
  <div class="mt-4">
    <button
      (click)="getWeather()"
      class="px-6 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition duration-300"
    >
      Get Weather
    </button>
  </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error text-red-500 text-sm font-medium mb-4">
      {{ errorMessage }}
    </div>

    <!-- Success Feedback -->
    <div *ngIf="successMessage" class="success text-green-500 text-sm font-medium mb-4">
      {{ successMessage }}
    </div>


  <!-- View Toggle Button -->
  <div *ngIf="weatherData" class="mb-6 flex justify-end">
    <button
      (click)="toggleViewMode()"
      class="px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition duration-300"
    >
      Switch to {{ isTableView ? 'Detailed View' : 'Table View' }}
    </button>
  </div>

  <!-- Table View -->
  <div *ngIf="isTableView && weatherData" class="recent-searches bg-gray-50 p-4 rounded-lg shadow-inner border border-gray-200">
    <h3 class="text-lg font-semibold text-gray-800 mb-4">{{ weatherData.location.name }} Weather</h3>
    <table class="table-auto w-full text-left border-collapse">
      <thead>
        <tr class="bg-gray-100">
          <th class="px-4 py-2 border">City</th>
          <th class="px-4 py-2 border">Temperature</th>
          <th class="px-4 py-2 border">Condition</th>
          <th class="px-4 py-2 border">Local Time</th>
          <th class="px-4 py-2 border">Favorite?</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="px-4 py-2 border">{{ weatherData.location.name }}</td>
          <td class="px-4 py-2 border">{{ weatherData.current.temp_c }}°C / {{ weatherData.current.temp_f }}°F</td>
          <td class="px-4 py-2 border">{{ weatherData.current.condition.text }}</td>
          <td class="px-4 py-2 border">{{ weatherData.location.localtime }}</td>
          <td class="px-4 py-2 border">
            <button
    (click)="addFavorite()"
    class="px-6 py-3 bg-purple-500 rounded-md text-white rounded-xl shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-105"
  >
    Add to Favorites
  </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Detailed View -->
<div
*ngIf="!isTableView && weatherData"
class="weather-data max-w-5xl mx-auto p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-lg border border-gray-300"
>
<!-- Header -->
<h3 class="text-3xl font-bold text-gray-800 mb-8 text-center md:text-left">
  {{ weatherData.location.name }} Weather
</h3>

<!-- Main Content -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
  <!-- Weather Icon -->
  <div class="flex justify-center lg:justify-start">
    <img
      src="{{ weatherData.current.condition.icon }}"
      alt="Weather Icon"
      class="w-28 h-28"
    />
  </div>

  <!-- Weather Details -->
  <div class="lg:col-span-2">
    <p class="text-xl text-gray-700 mb-4">
      Temperature:
      <span class="font-bold text-blue-600">{{ weatherData.current.temp_c }}°C</span> /
      <span class="font-bold text-indigo-600">{{ weatherData.current.temp_f }}°F</span>
    </p>
    <p class="text-lg text-gray-600 mb-4">
      Condition:
      <span class="font-medium text-gray-800">{{ weatherData.current.condition.text }}</span>
    </p>
    <p class="text-lg text-gray-600">
      <span class="font-semibold text-blue-700">Wind Speed:</span>
      {{ weatherData.current.wind_kph }} km/h
    </p>
    <p class="text-lg text-gray-600">
      <span class="font-semibold text-blue-700">Humidity:</span>
      {{ weatherData.current.humidity }}%
    </p>
    <p class="text-lg text-gray-600 md:col-span-2">
      <span class="font-semibold text-blue-700">Local Time:</span>
      {{ weatherData.location.localtime }}
    </p>
  </div>
</div>

<!-- Favorite Button -->
<div class="mt-8 flex justify-center lg:justify-end">
  <button
    (click)="addFavorite()"
    class="px-6 py-3 bg-purple-500 rounded-md text-white rounded-xl shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-105"
  >
    Add to Favorites
  </button>
</div>
</div>
</div>
