<!-- src/app/history/history.component.html -->
<div class="history-container mt-10">
  <h3 class="text-2xl font-semibold text-gray-800 mb-4 text-center">History</h3>


   <!-- View Toggle Button -->
   <div *ngIf="history.length > 0" class="mb-6 flex justify-end">
    <button
      (click)="toggleViewMode()"
      class="px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition duration-300"
    >
      Switch to {{ isTableView ? 'Detailed View' : 'Table View' }}
    </button>
  </div>

  <!-- Table View -->
  <div *ngIf="isTableView && history" class="recent-searches bg-gray-50 p-4 rounded-lg shadow-inner border border-gray-200">
    <table class="table-auto w-full text-left border-collapse">
      <thead>
        <tr class="bg-gray-100">
          <th class="px-4 py-2 border">City</th>
          <th class="px-4 py-2 border">Temperature</th>
          <th class="px-4 py-2 border">Condition</th>
          <th class="px-4 py-2 border">Local Time</th>
          <th class="px-4 py-2 border">Search</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let city of history">
          <td class="px-4 py-2 border">{{ city.location.name }}</td>
          <td class="px-4 py-2 border">{{ city.current.temp_c }}째C / {{ city.current.temp_f }}째F</td>
          <td class="px-4 py-2 border">{{ city.current.condition.text }}</td>
          <td class="px-4 py-2 border">{{ city.location.localtime }}</td>
          <td class="px-4 py-2 border"><button class="px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition duration-300" (click)="selectCity(city)">Search</button></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Detailed View -->
<div
*ngIf="!isTableView && history"
class="weather-data max-w-5xl mx-auto p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-lg border border-gray-300"
>

<!-- Main Content -->
<div *ngFor="let city of history" class="grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8 items-center">
  <h3 class="text-3xl font-bold text-gray-800 mb-8 text-center md:text-left">
    {{city.location.name}}
  </h3>
  <!-- Weather Icon -->
  <div class="flex justify-center lg:justify-start">
    <img
      src="{{ city.current.condition.icon }}"
      alt="Weather Icon"
      class="w-28 h-28"
    />
  </div>

  <!-- Weather Details -->
  <div class="lg:col-span-2">
    <p class="text-xl text-gray-700 mb-4">
      Temperature:
      <span class="font-bold text-blue-600">{{ city.current.temp_c }}째C</span> /
      <span class="font-bold text-indigo-600">{{ city.current.temp_f }}째F</span>
    </p>
    <p class="text-lg text-gray-600 mb-4">
      Condition:
      <span class="font-medium text-gray-800">{{ city.current.condition.text }}</span>
    </p>
    <p class="text-lg text-gray-600">
      <span class="font-semibold text-blue-700">Wind Speed:</span>
      {{ city.current.wind_kph }} km/h
    </p>
    <p class="text-lg text-gray-600">
      <span class="font-semibold text-blue-700">Humidity:</span>
      {{ city.current.humidity }}%
    </p>
    <p class="text-lg text-gray-600 md:col-span-2">
      <span class="font-semibold text-blue-700">Local Time:</span>
      {{ city.location.localtime }}
    </p>
    <button class="px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition duration-300" (click)="selectCity(city)">Search</button>
  </div>
</div>
